---
layout: page
title: Log In
---
Please log in to access the protected administrative area.

<br />
<br />
<form id="login" action="{{ '/admin' | prepend: site.github.url }}">
  <table border="0">
    <tr>
      <td><label for="username">Username</label></td>
      <td><input type="text" id="username" name="username" placeholder="Username" /></td>
    </tr>
    <tr>
      <td><label for="password">Password</label></td>
      <td><input type="password" id="password" name="password" placeholder="Password" /></td>
    </tr>
    <tr>
      <td colspan="2"><input type="submit" value="sign in" /></td>
    </tr>
  </table>
</form>

<div id="form_output">0</div>

<script type="text/javascript">
  $(document).ready(function() {
    $('#login').submit(function(event) {
      event.preventDefault();
      var username = $('#username').val();
      var password = $('#password').val();
      var action   = this.action;
      $.ajax({
        url: "{{ '../admin/key.json' }}",
        beforeSend: function (xhr) {
          xhr.setRequestHeader ("Authorization", "Basic " + btoa(username + ":" + password));
        },
        success: function (data) {
          $("#form_output").html(data);
          console.log(data);
          window.location.href = action;
        },
        error: function (jXHR, textStatus, errorThrown) {
          alert(errorThrown);
        }
      });
    });
  });
</script>

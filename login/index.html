---
layout: page
title: Log In
---
Please log in to access the protected administrative area.

<br />
<br />
<form id="login">
  <table border="0">
    <tr>
      <td><label for="username">Username</label></td>
      <td><input type="text" id="username" name="username" placeholder="Username" /></td>
    </tr>
    <tr>
      <td><label for="password">Password</label></td>
      <td><input type="password" id="password" name="password" placeholder="Password" /></td>
    </tr>
    <tr>
      <td colspan="2"><input type="submit" value="sign in" /></td>
    </tr>
  </table>
</form>

<script type="text/javascript">
  $(document).ready(function() {
    $('#login').submit(function(event) {
      var username = $('#username').value;
      var password = $('#password').value;
      $.ajax({
        url: "{{ '/admin/key.json' | prepend: site.github.url }}",
        beforeSend: function (xhr) {
          xhr.setRequestHeader ("Authorization", "Basic " + btoa(username + ":" + password));
        }
      })
      .done(function( data, status, xhr ) {
        if (xhr.status == 200) {
            window.location.href = "{{ '/admin' | prepend: site.github.url }}";
        } else {
            alert("Incorrect username and/or password.");
        }
      });
      event.preventDefault();
    });
  });
</script>
